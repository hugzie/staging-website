import{S as t,i as s,s as a,l as r,G as e,k as l,o as n,p as c,H as i,j as o,n as p,q as h,f,A as u,J as m,c as d,a as g,m as $,C as v,t as y,b as I,d as E,e as D,g as V,h as k,r as b,v as S}from"./client.148aa59b.js";import{I as C,C as K,L as z}from"./index.browser.8433ddc4.js";import{N as T}from"./number.04efde30.js";function q(t){let s,a,d,g,$,v,y,I,E,D="sr"===t[1]?"Veličina":"Size",V=t[0].size.selected+"",k="sr"===t[1]?"Tip papira":"Paper type",b=t[0][t[1]].paper_type.selected.label+"";return{c(){s=r("div"),a=e(D),d=e(": "),g=e(V),$=l(),v=r("div"),y=e(k),I=e(": "),E=e(b),this.h()},l(t){s=n(t,"DIV",{class:!0});var r=c(s);a=i(r,D),d=i(r,": "),g=i(r,V),r.forEach(o),$=p(t),v=n(t,"DIV",{class:!0});var e=c(v);y=i(e,k),I=i(e,": "),E=i(e,b),e.forEach(o),this.h()},h(){h(s,"class","prop"),h(v,"class","prop")},m(t,r){f(t,s,r),u(s,a),u(s,d),u(s,g),f(t,$,r),f(t,v,r),u(v,y),u(v,I),u(v,E)},p(t,s){2&s&&D!==(D="sr"===t[1]?"Veličina":"Size")&&m(a,D),1&s&&V!==(V=t[0].size.selected+"")&&m(g,V),2&s&&k!==(k="sr"===t[1]?"Tip papira":"Paper type")&&m(y,k),3&s&&b!==(b=t[0][t[1]].paper_type.selected.label+"")&&m(E,b)},d(t){t&&o(s),t&&o($),t&&o(v)}}}function w(t){let s,a,D,V,k,b,S,K,z,w,x,j,_,A,N,P,R,G,L,B,Q,H,J,O,U,F,M=t[0][t[1]].title+"",W="sr"===t[1]?"Količina":"Quantity",X=t[0].quantity*t[0].price_in_rsd+"";const Y=new C({props:{src:t[0].image,alt:t[0][t[1]].title,style:"width: 100%;"}});let Z="STICKER"===t[0].type&&q(t);const tt=new T({props:{value:t[0].quantity,min:1,max:20}});return tt.$on("change",t[3]),{c(){s=r("div"),a=r("div"),d(Y.$$.fragment),D=l(),V=r("div"),k=r("div"),b=e(t[2]),S=l(),K=r("div"),z=e(M),w=l(),x=r("div"),Z&&Z.c(),j=l(),_=r("div"),A=r("span"),N=e(W),P=l(),d(tt.$$.fragment),R=l(),G=r("div"),L=r("span"),B=e(X),Q=e(" RSD"),H=l(),J=r("button"),O=e("×"),this.h()},l(r){s=n(r,"DIV",{class:!0});var e=c(s);a=n(e,"DIV",{class:!0});var l=c(a);g(Y.$$.fragment,l),l.forEach(o),D=p(e),V=n(e,"DIV",{class:!0});var h=c(V);k=n(h,"DIV",{class:!0});var f=c(k);b=i(f,t[2]),f.forEach(o),S=p(h),K=n(h,"DIV",{class:!0});var u=c(K);z=i(u,M),u.forEach(o),w=p(h),x=n(h,"DIV",{class:!0});var m=c(x);Z&&Z.l(m),m.forEach(o),j=p(h),_=n(h,"DIV",{class:!0});var d=c(_);A=n(d,"SPAN",{});var $=c(A);N=i($,W),$.forEach(o),P=p(d),g(tt.$$.fragment,d),d.forEach(o),R=p(h),G=n(h,"DIV",{class:!0});var v=c(G);L=n(v,"SPAN",{class:!0});var y=c(L);B=i(y,X),Q=i(y," RSD"),y.forEach(o),H=p(v),J=n(v,"BUTTON",{});var I=c(J);O=i(I,"×"),I.forEach(o),v.forEach(o),h.forEach(o),e.forEach(o),this.h()},h(){h(a,"class","image-wrapper"),h(k,"class","type"),h(K,"class","title"),h(x,"class","options"),h(_,"class","quantity"),h(L,"class","price"),h(G,"class","summary"),h(V,"class","info"),h(s,"class","cart-item")},m(r,e,l){f(r,s,e),u(s,a),$(Y,a,null),u(s,D),u(s,V),u(V,k),u(k,b),u(V,S),u(V,K),u(K,z),u(V,w),u(V,x),Z&&Z.m(x,null),u(V,j),u(V,_),u(_,A),u(A,N),u(_,P),$(tt,_,null),u(V,R),u(V,G),u(G,L),u(L,B),u(L,Q),u(G,H),u(G,J),u(J,O),U=!0,l&&F(),F=v(J,"click",t[4])},p(t,[s]){const a={};1&s&&(a.src=t[0].image),3&s&&(a.alt=t[0][t[1]].title),Y.$set(a),(!U||4&s)&&m(b,t[2]),(!U||3&s)&&M!==(M=t[0][t[1]].title+"")&&m(z,M),"STICKER"===t[0].type?Z?Z.p(t,s):(Z=q(t),Z.c(),Z.m(x,null)):Z&&(Z.d(1),Z=null),(!U||2&s)&&W!==(W="sr"===t[1]?"Količina":"Quantity")&&m(N,W);const r={};1&s&&(r.value=t[0].quantity),tt.$set(r),(!U||1&s)&&X!==(X=t[0].quantity*t[0].price_in_rsd+"")&&m(B,X)},i(t){U||(y(Y.$$.fragment,t),y(tt.$$.fragment,t),U=!0)},o(t){I(Y.$$.fragment,t),I(tt.$$.fragment,t),U=!1},d(t){t&&o(s),E(Y),Z&&Z.d(),E(tt),F()}}}function x(t,s,a){let r,{lng:e}=s,{item:l}=s;"STICKER"===l.type&&(r="sr"===e?"Stiker":"Sticker");return t.$set=t=>{"lng"in t&&a(1,e=t.lng),"item"in t&&a(0,l=t.item)},[l,e,r,t=>{a(0,l.quantity=t.detail,l),K.updateItem(l.uuid,l)},()=>{K.removeItem(l.uuid)}]}class j extends t{constructor(t){super(),s(this,t,x,w,a,{lng:1,item:0})}}function _(t,s,a){const r=t.slice();return r[3]=s[a],r}function A(t){let s,a,d,g,$,v,E,D="sr"===t[1]?"Kupi":"Checkout",S=t[2],C=[];for(let s=0;s<S.length;s+=1)C[s]=P(_(t,S,s));const K=t=>I(C[t],1,1,()=>{C[t]=null});return{c(){s=r("div");for(let t=0;t<C.length;t+=1)C[t].c();a=l(),d=r("div"),g=r("a"),$=e(D),this.h()},l(t){s=n(t,"DIV",{class:!0});var r=c(s);for(let t=0;t<C.length;t+=1)C[t].l(r);r.forEach(o),a=p(t),d=n(t,"DIV",{class:!0});var e=c(d);g=n(e,"A",{rel:!0,href:!0,class:!0});var l=c(g);$=i(l,D),l.forEach(o),e.forEach(o),this.h()},h(){h(s,"class","items"),h(g,"rel","prefetch"),h(g,"href",v=("sr"===t[1]?"/sr":"")+"/checkout"),h(g,"class","btn btn-primary ml-auto"),h(d,"class","checkout")},m(t,r){f(t,s,r);for(let t=0;t<C.length;t+=1)C[t].m(s,null);f(t,a,r),f(t,d,r),u(d,g),u(g,$),E=!0},p(t,a){if(6&a){let r;for(S=t[2],r=0;r<S.length;r+=1){const e=_(t,S,r);C[r]?(C[r].p(e,a),y(C[r],1)):(C[r]=P(e),C[r].c(),y(C[r],1),C[r].m(s,null))}for(V(),r=S.length;r<C.length;r+=1)K(r);k()}(!E||2&a)&&D!==(D="sr"===t[1]?"Kupi":"Checkout")&&m($,D),(!E||2&a&&v!==(v=("sr"===t[1]?"/sr":"")+"/checkout"))&&h(g,"href",v)},i(t){if(!E){for(let t=0;t<S.length;t+=1)y(C[t]);E=!0}},o(t){C=C.filter(Boolean);for(let t=0;t<C.length;t+=1)I(C[t]);E=!1},d(t){t&&o(s),b(C,t),t&&o(a),t&&o(d)}}}function N(t){let s,a,d,g,$,v,y,I,E="sr"===t[1]?"Izgleda da je korpa prazna.":"Looks like your cart is empty.",D="sr"===t[1]?"Idi u prodavnicu":"Go to store";return{c(){s=r("div"),a=r("p"),d=e(E),g=l(),$=r("div"),v=r("a"),y=e(D),this.h()},l(t){s=n(t,"DIV",{class:!0});var r=c(s);a=n(r,"P",{});var e=c(a);d=i(e,E),e.forEach(o),g=p(r),$=n(r,"DIV",{class:!0});var l=c($);v=n(l,"A",{class:!0,rel:!0,href:!0});var h=c(v);y=i(h,D),h.forEach(o),l.forEach(o),r.forEach(o),this.h()},h(){h(v,"class","btn btn-primary"),h(v,"rel","prefetch"),h(v,"href",I=("sr"===t[1]?"/sr":"")+"/store"),h($,"class","mt-50"),h(s,"class","no-items")},m(t,r){f(t,s,r),u(s,a),u(a,d),u(s,g),u(s,$),u($,v),u(v,y)},p(t,s){2&s&&E!==(E="sr"===t[1]?"Izgleda da je korpa prazna.":"Looks like your cart is empty.")&&m(d,E),2&s&&D!==(D="sr"===t[1]?"Idi u prodavnicu":"Go to store")&&m(y,D),2&s&&I!==(I=("sr"===t[1]?"/sr":"")+"/store")&&h(v,"href",I)},i:S,o:S,d(t){t&&o(s)}}}function P(t){let s,a,e;const i=new j({props:{lng:t[1],item:t[3]}});return{c(){s=r("div"),d(i.$$.fragment),a=l(),this.h()},l(t){s=n(t,"DIV",{class:!0});var r=c(s);g(i.$$.fragment,r),a=p(r),r.forEach(o),this.h()},h(){h(s,"class","item")},m(t,r){f(t,s,r),$(i,s,null),u(s,a),e=!0},p(t,s){const a={};2&s&&(a.lng=t[1]),4&s&&(a.item=t[3]),i.$set(a)},i(t){e||(y(i.$$.fragment,t),e=!0)},o(t){I(i.$$.fragment,t),e=!1},d(t){t&&o(s),E(i)}}}function R(t){let s,a,r,e;const l=[N,A],n=[];function c(t,s){return 0===t[2].length?0:1}return s=c(t),a=n[s]=l[s](t),{c(){a.c(),r=D()},l(t){a.l(t),r=D()},m(t,a){n[s].m(t,a),f(t,r,a),e=!0},p(t,e){let i=s;s=c(t),s===i?n[s].p(t,e):(V(),I(n[i],1,1,()=>{n[i]=null}),k(),a=n[s],a||(a=n[s]=l[s](t),a.c()),y(a,1),a.m(r.parentNode,r))},i(t){e||(y(a),e=!0)},o(t){I(a),e=!1},d(t){n[s].d(t),t&&o(r)}}}function G(t){let s;const a=new z({props:{title:"sr"===t[1]?"Korpa":"Cart",class:"cart",path:t[0],lng:t[1],displayTitle:!0,$$slots:{default:[R]},$$scope:{ctx:t}}});return{c(){d(a.$$.fragment)},l(t){g(a.$$.fragment,t)},m(t,r){$(a,t,r),s=!0},p(t,[s]){const r={};2&s&&(r.title="sr"===t[1]?"Korpa":"Cart"),1&s&&(r.path=t[0]),2&s&&(r.lng=t[1]),70&s&&(r.$$scope={dirty:s,ctx:t}),a.$set(r)},i(t){s||(y(a.$$.fragment,t),s=!0)},o(t){I(a.$$.fragment,t),s=!1},d(t){E(a,t)}}}function L(t,s,a){let{path:r}=s,{lng:e}=s,l=[];return K.subscribe(t=>{t&&a(2,l=t)}),t.$set=t=>{"path"in t&&a(0,r=t.path),"lng"in t&&a(1,e=t.lng)},[r,e,l]}class B extends t{constructor(t){super(),s(this,t,L,G,a,{path:0,lng:1})}}export{B as C};
