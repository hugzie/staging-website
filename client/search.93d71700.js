import{S as t,i as e,s as r,c as s,a,m as n,t as o,b as l,d as c,y as i,l as h,k as f,e as m,o as p,p as g,n as $,j as u,q as d,f as v,A as w,g as E,h as S,D as T,K as b,r as C,G as I,H as P,J as y,v as x}from"./client.148aa59b.js";import{L as B,f as L}from"./index.browser.8433ddc4.js";import{P as j}from"./post-snippet.9354cf21.js";import{S as D}from"./section.25ef86f8.js";import{S as N}from"./store-item.4fe71c20.js";import{T as q}from"./text.5a59e660.js";var R=()=>{let t={};var e=(""+window.location).split("?");if(2==e.length){var r,s=(e=e[1]).split("&");for(var a in s)2==(r=s[a].split("=")).length?t[r[0]]=decodeURIComponent(r[1]):console.error("Bad query: "+s[a])}return t};function V(t,e,r){const s=t.slice();return s[11]=e[r],s}function k(t,e,r){const s=t.slice();return s[11]=e[r],s}function K(t){let e,r,s,a=t[5].length>0&&z(t),n=t[6].length>0&&G(t);return{c(){a&&a.c(),e=f(),n&&n.c(),r=m()},l(t){a&&a.l(t),e=$(t),n&&n.l(t),r=m()},m(t,o){a&&a.m(t,o),v(t,e,o),n&&n.m(t,o),v(t,r,o),s=!0},p(t,s){t[5].length>0?a?(a.p(t,s),32&s&&o(a,1)):(a=z(t),a.c(),o(a,1),a.m(e.parentNode,e)):a&&(E(),l(a,1,1,()=>{a=null}),S()),t[6].length>0?n?(n.p(t,s),64&s&&o(n,1)):(n=G(t),n.c(),o(n,1),n.m(r.parentNode,r)):n&&(E(),l(n,1,1,()=>{n=null}),S())},i(t){s||(o(a),o(n),s=!0)},o(t){l(a),l(n),s=!1},d(t){a&&a.d(t),t&&u(e),n&&n.d(t),t&&u(r)}}}function U(t){let e,r,s="sr"===t[1]?"Nema rezultata":"There are no results";return{c(){e=h("div"),r=I(s),this.h()},l(t){e=p(t,"DIV",{class:!0});var a=g(e);r=P(a,s),a.forEach(u),this.h()},h(){d(e,"class","no-result")},m(t,s){v(t,e,s),w(e,r)},p(t,e){2&e&&s!==(s="sr"===t[1]?"Nema rezultata":"There are no results")&&y(r,s)},i:x,o:x,d(t){t&&u(e)}}}function z(t){let e,r,i,m,I;const P=new D({props:{class:"mt-50 mb-50",name:"sr"===t[1]?"Prodavnica":"Store"}});let y=t[5],x=[];for(let e=0;e<y.length;e+=1)x[e]=A(k(t,y,e));const B=t=>l(x[t],1,1,()=>{x[t]=null});return{c(){e=h("div"),s(P.$$.fragment),r=f(),i=h("div");for(let t=0;t<x.length;t+=1)x[t].c();this.h()},l(t){e=p(t,"DIV",{});var s=g(e);a(P.$$.fragment,s),r=$(s),i=p(s,"DIV",{class:!0});var n=g(i);for(let t=0;t<x.length;t+=1)x[t].l(n);n.forEach(u),s.forEach(u),this.h()},h(){d(i,"class","items")},m(t,s){v(t,e,s),n(P,e,null),w(e,r),w(e,i);for(let t=0;t<x.length;t+=1)x[t].m(i,null);I=!0},p(t,e){const r={};if(2&e&&(r.name="sr"===t[1]?"Prodavnica":"Store"),P.$set(r),32&e){let r;for(y=t[5],r=0;r<y.length;r+=1){const s=k(t,y,r);x[r]?(x[r].p(s,e),o(x[r],1)):(x[r]=A(s),x[r].c(),o(x[r],1),x[r].m(i,null))}for(E(),r=y.length;r<x.length;r+=1)B(r);S()}},i(t){if(!I){o(P.$$.fragment,t);for(let t=0;t<y.length;t+=1)o(x[t]);m||T(()=>{m=b(e,L,{}),m.start()}),I=!0}},o(t){l(P.$$.fragment,t),x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)l(x[t]);I=!1},d(t){t&&u(e),c(P),C(x,t)}}}function A(t){let e;const r=new N({props:{basePath:"store/"+("STICKER"===t[11].type?"sticker":"pattern"),data:t[11]}});return{c(){s(r.$$.fragment)},l(t){a(r.$$.fragment,t)},m(t,s){n(r,t,s),e=!0},p(t,e){const s={};32&e&&(s.basePath="store/"+("STICKER"===t[11].type?"sticker":"pattern")),32&e&&(s.data=t[11]),r.$set(s)},i(t){e||(o(r.$$.fragment,t),e=!0)},o(t){l(r.$$.fragment,t),e=!1},d(t){c(r,t)}}}function G(t){let e,r,i,m,I;const P=new D({props:{class:"mt-50 mb-50",name:"sr"===t[1]?"Blogovi":"Blog"}});let y=t[6],x=[];for(let e=0;e<y.length;e+=1)x[e]=O(V(t,y,e));const B=t=>l(x[t],1,1,()=>{x[t]=null});return{c(){e=h("div"),s(P.$$.fragment),r=f(),i=h("div");for(let t=0;t<x.length;t+=1)x[t].c();this.h()},l(t){e=p(t,"DIV",{});var s=g(e);a(P.$$.fragment,s),r=$(s),i=p(s,"DIV",{class:!0});var n=g(i);for(let t=0;t<x.length;t+=1)x[t].l(n);n.forEach(u),s.forEach(u),this.h()},h(){d(i,"class","items")},m(t,s){v(t,e,s),n(P,e,null),w(e,r),w(e,i);for(let t=0;t<x.length;t+=1)x[t].m(i,null);I=!0},p(t,e){const r={};if(2&e&&(r.name="sr"===t[1]?"Blogovi":"Blog"),P.$set(r),64&e){let r;for(y=t[6],r=0;r<y.length;r+=1){const s=V(t,y,r);x[r]?(x[r].p(s,e),o(x[r],1)):(x[r]=O(s),x[r].c(),o(x[r],1),x[r].m(i,null))}for(E(),r=y.length;r<x.length;r+=1)B(r);S()}},i(t){if(!I){o(P.$$.fragment,t);for(let t=0;t<y.length;t+=1)o(x[t]);m||T(()=>{m=b(e,L,{}),m.start()}),I=!0}},o(t){l(P.$$.fragment,t),x=x.filter(Boolean);for(let t=0;t<x.length;t+=1)l(x[t]);I=!1},d(t){t&&u(e),c(P),C(x,t)}}}function O(t){let e;const r=new j({props:{basePath:"/blog",post:t[11]}});return{c(){s(r.$$.fragment)},l(t){a(r.$$.fragment,t)},m(t,s){n(r,t,s),e=!0},p(t,e){const s={};64&e&&(s.post=t[11]),r.$set(s)},i(t){e||(o(r.$$.fragment,t),e=!0)},o(t){l(r.$$.fragment,t),e=!1},d(t){c(r,t)}}}function H(t){let e,r,i,T,b,C,I,P,y,x;const B=new q({props:{value:t[3],invalidText:"",placeholder:"sr"===t[1]?"Pretraga":"Search"}});B.$on("input",t[10]);const L=[U,K],j=[];function D(t,e){return!0===t[4]?0:1}return I=D(t),P=j[I]=L[I](t),{c(){e=h("div"),s(B.$$.fragment),r=f(),i=h("button"),T=h("img"),C=f(),P.c(),y=m(),this.h()},l(t){e=p(t,"DIV",{class:!0});var s=g(e);a(B.$$.fragment,s),r=$(s),i=p(s,"BUTTON",{});var n=g(i);T=p(n,"IMG",{src:!0,alt:!0}),n.forEach(u),s.forEach(u),C=$(t),P.l(t),y=m(),this.h()},h(){T.src!==(b="/search-button.svg")&&d(T,"src","/search-button.svg"),d(T,"alt","search"),d(e,"class","search-input")},m(t,s){v(t,e,s),n(B,e,null),w(e,r),w(e,i),w(i,T),v(t,C,s),j[I].m(t,s),v(t,y,s),x=!0},p(t,e){const r={};8&e&&(r.value=t[3]),2&e&&(r.placeholder="sr"===t[1]?"Pretraga":"Search"),B.$set(r);let s=I;I=D(t),I===s?j[I].p(t,e):(E(),l(j[s],1,1,()=>{j[s]=null}),S(),P=j[I],P||(P=j[I]=L[I](t),P.c()),o(P,1),P.m(y.parentNode,y))},i(t){x||(o(B.$$.fragment,t),o(P),x=!0)},o(t){l(B.$$.fragment,t),l(P),x=!1},d(t){t&&u(e),c(B),t&&u(C),j[I].d(t),t&&u(y)}}}function J(t){let e;const r=new B({props:{title:"sr"===t[1]?"Pretraga":"Search",class:"search",path:t[0],lng:t[1],displayTitle:!0,$$slots:{default:[H]},$$scope:{ctx:t}}});return{c(){s(r.$$.fragment)},l(t){a(r.$$.fragment,t)},m(t,s){n(r,t,s),e=!0},p(t,[e]){const s={};2&e&&(s.title="sr"===t[1]?"Pretraga":"Search"),1&e&&(s.path=t[0]),2&e&&(s.lng=t[1]),65662&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s)},i(t){e||(o(r.$$.fragment,t),e=!0)},o(t){l(r.$$.fragment,t),e=!1},d(t){c(r,t)}}}function M(t,e){let r=0,s=0;for(;s=e.indexOf(t,s),-1!==s;)r+=1,s+=1;return r}function F(t,e,r){let s,{path:a}=e,{lng:n}=e,{data:o}=e,l="",c="",h=!0,f=[],m=[];function p(t){if(l!==c)if(l=""+c,t.length>2){const e=t.toLowerCase().split(" ").filter(t=>""!==t);r(5,f=[]),o.stickers.forEach(t=>{let r=0;e.forEach(e=>{r=r+M(e,t.title.toLowerCase())+M(e,t.description.toLowerCase())}),r>0&&f.push({...t,matches:r,type:"STICKER"})}),o.patterns.forEach(t=>{let r=0;e.forEach(e=>{r=r+M(e,t.title.toLowerCase())+M(e,t.description.toLowerCase())}),r>0&&f.push({...t,matches:r,type:"PATTERN"})}),f.sort((t,e)=>e.matches-t.matches),r(6,m=[]),o.blogs.forEach(t=>{let r=0;e.forEach(e=>{r=r+M(e,t.title.toLowerCase())+M(e,t.description.toLowerCase())}),r>0&&m.push({...t,matches:r})}),m.sort((t,e)=>e.matches-t.matches),f.length>0||m.length>0?(r(5,f=[...f]),r(6,m=[...m]),r(4,h=!1)):r(4,h=!0)}else r(5,f=[]),r(6,m=[]),r(4,h=!0)}i(()=>{const t=R();t.q&&(r(3,c=t.q),p(t.q))});return t.$set=t=>{"path"in t&&r(0,a=t.path),"lng"in t&&r(1,n=t.lng),"data"in t&&r(8,o=t.data)},[a,n,s,c,h,f,m,p,o,l,t=>{r(3,c=t.detail),clearTimeout(s),r(2,s=setTimeout(()=>{window.history.replaceState({},"",`${"sr"===n?"/sr":""}/search?q=${encodeURIComponent(t.detail)}`),p(t.detail)},300))}]}class Q extends t{constructor(t){super(),e(this,t,F,J,r,{path:0,lng:1,data:8})}}export{Q as S};
